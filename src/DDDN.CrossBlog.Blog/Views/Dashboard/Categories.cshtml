@*
	DDDN.CrossBlog.Blog.Views.Dashboard.Categories
	Copyright(C) 2017 Lukasz Jaskiewicz (lukasz@jaskiewicz.de)
	- This program is free software; you can redistribute it and/or modify it under the terms of the
	GNU General Public License as published by the Free Software Foundation; version 2 of the License.
	- This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied
	warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.
	- You should have received a copy of the GNU General Public License along with this program; if not, write
	to the Free Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.
*@

@model IEnumerable<CategoryModel>
@inject IViewLocalizer Loc

@{	ViewData["Title"] = Loc["Title"]; }

<div>
	<h2>@Loc["Header"]</h2>
	<hr />
	@foreach (var item in Model)
	{
		<button class="btn btn-success cb-btn-mb-5" id="@item.CategoryId" onclick="cb_AdminCathIndex_SetIdForDelete(this.id)">@item.Name</button>
	}
	<hr />
	<form id="formDelete" asp-action="CategoriesDelete">
		<label for="CategoryId" id="labelCategoryId">@Loc["DeleteInfo"]</label>
		<input hidden type="text" id="CategoryId" name="CategoryId" value="" required>
		<button hidden type="submit" id="buttonCategoryId" class="btn btn-danger">@Loc["ButtonDelete"]</button>
	</form>
	<hr />
	<form id="formValidation" asp-action="CategoriesCreate">
		<div class="form-group">
			<label for="Name">@Loc["Name"]</label>
			<input type="text" id="Name" name="Name" class="form-control" required maxlength="200">
		</div>
		<button type="submit" class="btn btn-primary">@Loc["ButtonCreate"]</button>
	</form>
</div>

@section  Scripts
	{
	<script>
		function cb_AdminCathIndex_SetIdForDelete(caller_id) {
			var categoryText = $('#' + caller_id).text();
			$('#labelCategoryId').text(categoryText);
			$('#buttonCategoryId').removeAttr('hidden');
			$('#CategoryId').val(caller_id);
		};
	</script>
}